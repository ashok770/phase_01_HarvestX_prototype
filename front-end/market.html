<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agmarknet Price Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-color: #2e7d32;
  --secondary-color: #5d4037;
  --accent-color: #43a047;
  --text-color: #333;
  --background-gradient: linear-gradient(135deg, #dcfce7, #a7f3d0);
}

/* BODY */
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: var(--background-gradient);
  overflow: hidden;
}

/* MOBILE FRAME */
.mobile-frame {
  width: 430px;
  height: 932px;
  background: #fff;
  border-radius: 50px;
  border: 12px solid #111;
  box-shadow: 0 25px 60px rgba(0,0,0,0.4);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}
.mobile-frame::before {
  content: "";
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 30px;
  background: #111;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}

/* CONTAINER */
.container {
  flex: 1;
  padding: 25px;
  overflow-y: auto;
  animation: fadeIn 1s ease forwards;
}

/* HEADER */
.app-header h1 {
  font-size: 28px;
  color: var(--primary-color);
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  margin-bottom: 5px;
  text-align: center;
  animation: slideDown 0.8s ease forwards;
}
.app-header p {
  font-size: 14px;
  color: #555;
  margin-bottom: 20px;
  text-align: center;
  animation: fadeIn 1s 0.3s ease forwards;
  opacity: 0;
}

/* INPUT SECTION */
.input-section {
  margin-bottom: 20px;
}
.input-group {
  margin-bottom: 15px;
}
.input-group label {
  font-weight: 600;
  margin-bottom: 6px;
  display: block;
}
.input-group input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 2px solid #ccc;
  font-size: 15px;
  transition: 0.4s;
  background: rgba(255,255,255,0.7);
  backdrop-filter: blur(8px);
}
.input-group input:focus {
  border-color: var(--accent-color);
  box-shadow: 0 0 10px rgba(67,160,71,0.3);
  outline: none;
}

/* BUTTON */
.btn {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 14px;
  border: none;
  cursor: pointer;
  background: linear-gradient(90deg, #2e7d32, #43a047);
  color: #fff;
  transition: 0.3s;
}
.btn:hover {
  background: linear-gradient(90deg, #43a047, #2e7d32);
  transform: scale(1.05);
}

/* RESULTS SECTION */
.results-section {
  margin-top: 20px;
}
.data-cards-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.data-card {
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(12px);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 6px 25px rgba(0,0,0,0.15);
  transition: transform 0.3s, box-shadow 0.3s;
  opacity: 0;
  transform: translateY(20px);
  position: relative;
  overflow: hidden;
}
.data-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.data-card::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.2) 20%, transparent 20%);
  background-size: 50px 50px;
  animation: bubbleMove 6s linear infinite;
  pointer-events: none;
}

.card-item {
  display: flex;
  justify-content: space-between;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255,255,255,0.3);
}
.card-item:last-child {
  border-bottom: none;
}
.card-label {
  font-weight: 600;
  color: var(--primary-color);
}
.card-value {
  font-weight: 500;
  color: #111;
}

/* NO DATA MESSAGE */
.no-data-message {
  padding: 16px;
  font-style: italic;
  color: #777;
  background: rgba(255,255,255,0.2);
  border-radius: 12px;
  backdrop-filter: blur(8px);
  text-align: center;
}

/* ANIMATIONS */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideDown {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes slideUp {
  to { opacity: 1; transform: translateY(0); }
}
@keyframes bubbleMove {
  0% { transform: translate(0,0); }
  50% { transform: translate(20px, -20px); }
  100% { transform: translate(0,0); }
}

/* FLOATING BACKGROUND */
.background-animation {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
  overflow: hidden;
}
.background-animation::before,
.background-animation::after {
  content: '';
  position: absolute;
  width: 300px; height: 300px;
  border-radius: 50%;
  background: rgba(255,255,255,0.15);
  animation: float 10s infinite;
}
.background-animation::after {
  width: 200px; height: 200px;
  top: 20%; left: 70%;
  animation-duration: 14s;
}
@keyframes float {
  0% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-40px) translateX(30px); }
  100% { transform: translateY(0) translateX(0); }
}
</style>
</head>
<body>

<div class="background-animation"></div>

<div class="mobile-frame">
  <div class="container">
    <header class="app-header">
      <h1>Agmarknet Price Tracker</h1>
      <p>Search the latest market prices of your commodity.</p>
    </header>

    <section class="input-section">
      <form id="price-form">
        <div class="input-group">
          <label for="commodity">Commodity</label>
          <input type="text" id="commodity" placeholder="e.g., Brinjal, Wheat" required>
        </div>
        <div class="input-group">
          <label for="district">District</label>
          <input type="text" id="district" placeholder="e.g., Erode, Bhopal" required>
        </div>
        <div class="input-group">
          <label for="state">State (Optional)</label>
          <input type="text" id="state" placeholder="Leave empty to skip">
        </div>
        <button class="btn" type="submit">Get Prices</button>
      </form>
      <div id="message-area" class="mt-4 hidden"></div>
    </section>

    <section class="results-section">
      <p id="no-data-message" class="no-data-message hidden">No prices found for selected criteria.</p>
      <div id="data-cards-container" class="data-cards-container"></div>
    </section>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('price-form');
  const container = document.getElementById('data-cards-container');
  const noDataMessage = document.getElementById('no-data-message');
  const messageArea = document.getElementById('message-area');

  const apiKey = 'YOUR_API_KEY'; // Replace with your actual API key

  form.addEventListener('submit', async e => {
    e.preventDefault();
    const commodity = document.getElementById('commodity').value.trim();
    const district = document.getElementById('district').value.trim();
    container.innerHTML = '';
    messageArea.classList.add('hidden');

    if (!commodity || !district) {
      messageArea.textContent = "Please enter both commodity and district.";
      messageArea.classList.remove('hidden');
      messageArea.style.color = 'red';
      noDataMessage.classList.add('hidden');
      return;
    }

    try {
      const response = await fetch(`https://api.data.gov.in/resource/9ef84268-d588-465a-a308-a864a43d0070?api-key=${apiKey}&b=1&commodity=${encodeURIComponent(commodity)}&district=${encodeURIComponent(district)}`);
      
      if (!response.ok) throw new Error('Network response was not ok');

      const data = await response.json();

      if (data.length > 0) {
        data.forEach((item, i) => {
          const card = document.createElement('div');
          card.className = 'data-card';
          card.style.animation = `slideUp 0.5s ease forwards`;
          card.style.animationDelay = `${i * 0.1}s`;

          for (let key in item) {
            const cardItem = document.createElement('div');
            cardItem.className = 'card-item';

            const label = document.createElement('div');
            label.className = 'card-label';
            label.textContent = key.charAt(0).toUpperCase() + key.slice(1);

            const value = document.createElement('div');
            value.className = 'card-value';
            value.textContent = item[key];

            cardItem.appendChild(label);
            cardItem.appendChild(value);
            card.appendChild(cardItem);
          }
          container.appendChild(card);
        });
        noDataMessage.classList.add('hidden');
        messageArea.textContent = `Displaying results for '${commodity}' in '${district}'.`;
        messageArea.classList.remove('hidden');
        messageArea.style.color = 'green';
      } else {
        noDataMessage.classList.remove('hidden');
        messageArea.textContent = `No prices found for '${commodity}' in '${district}'.`;
        messageArea.classList.remove('hidden');
        messageArea.style.color = 'red';
      }
    } catch (error) {
      messageArea.textContent = `Error fetching data: ${error.message}`;
      messageArea.classList.remove('hidden');
      messageArea.style.color = 'red';
      noDataMessage.classList.add('hidden');
    }
  });
});
</script>

</body>
</html>
